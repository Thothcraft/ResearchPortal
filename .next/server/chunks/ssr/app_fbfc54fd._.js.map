{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/gad/Desktop/Thothcraft/ResearchPortal/app/components/Header.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\nimport { Menu, X, User, LogOut, ChevronDown } from 'lucide-react';\n\nexport default function Header() {\n  const [isOpen, setIsOpen] = useState(false);\n  const [isScrolled, setIsScrolled] = useState(false);\n  const [userMenuOpen, setUserMenuOpen] = useState(false);\n  const pathname = usePathname();\n\n  // Handle scroll effect for header\n  useEffect(() => {\n    const handleScroll = () => {\n      setIsScrolled(window.scrollY > 10);\n    };\n    \n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n\n  const navigation = [\n    { name: 'Dashboard', href: '/devices', current: pathname === '/devices' },\n    { name: 'Data', href: '/data', current: pathname === '/data' },\n    { name: 'Training', href: '/training', current: pathname === '/training' },\n  ];\n\n  const handleSignOut = () => {\n    // Clear auth token\n    localStorage.removeItem('auth_token');\n    // Redirect to login\n    window.location.href = '/auth';\n  };\n\n  return (\n    <header className={`fixed w-full z-50 transition-all duration-300 ${\n      isScrolled ? 'bg-white/90 backdrop-blur-md shadow-sm' : 'bg-white/80 backdrop-blur-sm'\n    }`}\n    >\n      <nav className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\" aria-label=\"Top\">\n        <div className=\"flex justify-between items-center h-16\">\n          {/* Logo */}\n          <div className=\"flex items-center\">\n            <Link href=\"/\" className=\"flex-shrink-0\">\n              <span className=\"text-xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent\">\n                Thothcraft\n              </span>\n            </Link>\n          </div>\n\n          {/* Desktop Navigation */}\n          <div className=\"hidden md:flex items-center space-x-8\">\n            {navigation.map((item) => (\n              <Link\n                key={item.name}\n                href={item.href}\n                className={`${\n                  item.current\n                    ? 'text-indigo-600 font-medium'\n                    : 'text-gray-700 hover:text-indigo-600'\n                } px-3 py-2 text-sm font-medium transition-colors`}\n              >\n                {item.name}\n              </Link>\n            ))}\n          </div>\n\n          {/* User Menu - Desktop */}\n          <div className=\"hidden md:flex items-center\">\n            <div className=\"relative\">\n              <button\n                onClick={() => setUserMenuOpen(!userMenuOpen)}\n                className=\"flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n                id=\"user-menu\"\n                aria-haspopup=\"true\"\n              >\n                <span className=\"sr-only\">Open user menu</span>\n                <div className=\"h-8 w-8 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600\">\n                  <User className=\"h-4 w-4\" />\n                </div>\n                <ChevronDown className=\"ml-1 h-4 w-4 text-gray-500\" />\n              </button>\n\n              {/* Dropdown menu */}\n              {userMenuOpen && (\n                <div className=\"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none\">\n                  <div className=\"py-1\" role=\"menu\" aria-orientation=\"vertical\" aria-labelledby=\"user-menu\">\n                    <button\n                      onClick={handleSignOut}\n                      className=\"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center\"\n                      role=\"menuitem\"\n                    >\n                      <LogOut className=\"mr-2 h-4 w-4\" />\n                      Sign out\n                    </button>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Mobile menu button */}\n          <div className=\"md:hidden flex items-center\">\n            <button\n              onClick={() => setIsOpen(!isOpen)}\n              className=\"inline-flex items-center justify-center p-2 rounded-md text-gray-600 hover:text-indigo-600 hover:bg-gray-100 focus:outline-none\"\n              aria-expanded=\"false\"\n            >\n              <span className=\"sr-only\">Open main menu</span>\n              {isOpen ? (\n                <X className=\"block h-6 w-6\" aria-hidden=\"true\" />\n              ) : (\n                <Menu className=\"block h-6 w-6\" aria-hidden=\"true\" />\n              )}\n            </button>\n          </div>\n        </div>\n      </nav>\n\n      {/* Mobile menu */}\n      {isOpen && (\n        <div className=\"md:hidden bg-white border-t border-gray-200\">\n          <div className=\"px-2 pt-2 pb-3 space-y-1\">\n            {navigation.map((item) => (\n              <Link\n                key={item.name}\n                href={item.href}\n                className={`${\n                  item.current\n                    ? 'bg-indigo-50 text-indigo-700'\n                    : 'text-gray-700 hover:bg-gray-50 hover:text-indigo-600'\n                } block px-3 py-2 rounded-md text-base font-medium`}\n                onClick={() => setIsOpen(false)}\n              >\n                {item.name}\n              </Link>\n            ))}\n            <button\n              onClick={() => {\n                handleSignOut();\n                setIsOpen(false);\n              }}\n              className=\"w-full text-left px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:bg-gray-50 hover:text-indigo-600 flex items-center\"\n            >\n              <LogOut className=\"mr-2 h-4 w-4\" />\n              Sign out\n            </button>\n          </div>\n        </div>\n      )}\n    </header>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 314, "column": 0}, "map": {"version":3,"sources":["file:///home/gad/Desktop/Thothcraft/ResearchPortal/app/%28protected%29/layout.tsx"],"sourcesContent":["'use client';\n\nimport { ReactNode, useEffect, useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport Header from '../components/Header';\nimport { useAuth } from '../../contexts/AuthContext';\n\nexport default function ProtectedLayout({\n  children,\n}: {\n  children: ReactNode;\n}) {\n  const router = useRouter();\n  const { isAuthenticated, isLoading } = useAuth();\n  const [isClient, setIsClient] = useState(false);\n\n  useEffect(() => {\n    setIsClient(true);\n  }, []);\n\n  useEffect(() => {\n    if (!isLoading && !isAuthenticated && isClient) {\n      router.push('/auth/login');\n    }\n  }, [isAuthenticated, isLoading, router, isClient]);\n\n  if (isLoading || !isClient) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500\"></div>\n      </div>\n    );\n  }\n\n  if (!isAuthenticated) {\n    return null; // Will redirect in useEffect\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <Header />\n      <main className=\"pt-16\">\n        {children}\n      </main>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOe,SAAS,gBAAgB,EACtC,QAAQ,EAGT;IACC,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,EAAE,eAAe,EAAE,SAAS,EAAE,GAAG,CAAA,GAAA,wHAAA,CAAA,UAAO,AAAD;IAC7C,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEzC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,YAAY;IACd,GAAG,EAAE;IAEL,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,CAAC,aAAa,CAAC,mBAAmB,UAAU;YAC9C,OAAO,IAAI,CAAC;QACd;IACF,GAAG;QAAC;QAAiB;QAAW;QAAQ;KAAS;IAEjD,IAAI,aAAa,CAAC,UAAU;QAC1B,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;;;;;;;;;;IAGrB;IAEA,IAAI,CAAC,iBAAiB;QACpB,OAAO,MAAM,6BAA6B;IAC5C;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,4HAAA,CAAA,UAAM;;;;;0BACP,8OAAC;gBAAK,WAAU;0BACb;;;;;;;;;;;;AAIT","debugId":null}}]
}